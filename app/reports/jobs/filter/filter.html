<link rel="stylesheet" href="app/reports/jobs/filter/style.css" />
<md-dialog flex="50">
    <md-toolbar class="jobs-filter-toolbar" layout-padding layout="row" layout-align="space-between center">
        Jobs Filter
        <md-button class="md-icon-button" close-jobs-filter>
            <md-icon>cancel</md-icon>
        </md-button>
    </md-toolbar>
    <div>
        <md-input-container class="md-block" flex>
            <md-select ng-model="jobs_query.JobStatus" placeholder="Job Status">
                <md-option ng-repeat="status in sanitization_status" value="{{status}}">
                    {{status}}
                </md-option>
            </md-select>
        </md-input-container>
        <div layout="row" layout-align="space-between center" layout-margin>
            <div layout="column" layout-align="start start" flex="50">
                <p>Start Time</p>
                <input kendo-date-time-picker ng-model="jobs_query.startTime" k-ng-model="startTime" style="width: 100%;" class="k-input sessioncamexclude"
                />
            </div>
            <div layout="column" layout-align="start start" flex>
                <p>End Time</p>
                <input kendo-date-time-picker ng-model="jobs_query.endTime" k-ng-model="endTime" style="width: 100%;" />
            </div>
        </div>
        <md-input-container class="md-block" flex layout-padding>
            <md-select ng-model="jobs_query.Computer" placeholder="computer">
                <md-option ng-repeat="computer in computer_list" value="{{computer}}">
                    {{computer}}
                </md-option>
            </md-select>
        </md-input-container>
        <!--<md-input-container class="md-block" flex layout-padding>
            <md-select ng-model="jobs_query.user" placeholder="Pick a user">
                <md-option ng-repeat="user in users" value="{{user}}">
                    {{user}}
                </md-option>
            </md-select>
        </md-input-container>-->

         <md-autocomplete
          md-selected-item="selectedItem"
          md-search-text="searchText"
          md-items="user in QueryUsers(searchText)"
          md-item-text="user"
          md-min-length="0"
          placeholder="Pick a user">
        <md-item-template>
          <span md-highlight-text="searchText" md-highlight-flags="^i">{{user}}</span>
        </md-item-template>
        <md-not-found>
          No user matching "{{searchText}}" were found.
        </md-not-found>
      </md-autocomplete>



        <md-input-container class="md-block" flex layout-padding>
            <md-select ng-model="jobs_query.AgentType" placeholder="Agent Type">
                <md-option ng-repeat="agent in active_agents" value="{{agent}}">
                    {{agent}}
                </md-option>
            </md-select>
        </md-input-container>
        <div layout="row" layout="space-between around">
            <p>Job ID</p>
            <input class="material-input" ng-model="jobs_query.JobId">
        </div>
    </div>
    <div layout="row" layout-align="space-between center">
        <md-button close-jobs-filter md-whiteframe="4" class="cancel-jobs-filters" flex>CANCEL</md-button>
        <md-button md-whiteframe="4" class="filter-jobs-button" flex ng-click="get_data()">FILTER</md-button>
    </div>
</md-dialog>