<md-sidenav layout-padding md-component-id='policySidenav' id='policySidenav' md-is-locked-open="$mdMedia('gt-lg')" class="md-sidenav-left" md-whiteframe="6">

    <link rel="stylesheet" href="app/policy/templates/policySideNav/style.css" />

    <div layout='row' layout-align='start center' id="policySidenavTop">
        <h4 flex='66' class='white'><strong>Available Policies</strong></h4>
        <div flex='33' layout='row'>
            <md-button class='fullWidthButton' ng-click="ctrl.newPolicy = true">
                <md-tooltip md-direction="bottom">add</md-tooltip>
                <md-icon class='material-icons greenIcon'>add</md-icon>
            </md-button>
            <md-button class='fullWidthButton' reorder-policy-list>
                <md-tooltip md-direction="bottom">Click here to rename, delete or reorder policies</md-tooltip>
                <md-icon ng-click='showSearchBar()' class='material-icons greenIcon'>format_line_spacing</md-icon>
            </md-button>
        </div>
    </div>

    <input class="searchPolicies" placeholder="search policies" ng-model="name" />

    <md-list layout-padding id="policyListHolder">
        
        
        <!--new policyCell cell-->
        
        <md-list-item ng-show="ctrl.newPolicy" class="animated fadeInDown policyItem" policy-list-hover layout="column">

            <div layout="row" layout-align="space-between start" style="width: 100%">
                <p contenteditable="{{ctrl.isEditable}}" flex="95" class="md-subhead white bold policyName newPolicyName">New Policy</p>
                <div layout="row">
                    <md-button class="fullWidthButton noMarginTop" ng-click="ctrl.newPolicy = false">
                        <md-icon class="material-icons pinkishIcon">clear</md-icon>
                    </md-button>
                    <md-button class="fullWidthButton noMarginTop" toggle-new-policy-editable-mode>
                        <md-icon class="material-icons editPolicyName greenIcon">edit</md-icon>
                    </md-button>
                </div>
            </div>
            <md-button class="saveNContinue" md-whiteframe="8" ui-sref="app.policy.definition.fileType" continue-policy-setup>Save And Continue to Set up</md-button>


        </md-list-item>
        
        <!--new policyCell cell-->



        <md-list-item ng-drop="true" ng-drag="ctrl.dragMode" ng-repeat="policy in ctrl.draggableObjects | filter: policy.name" layout-padding class="policyItem" policy-list-hover ng-drag-data="policy" ng-drop-success="ctrl.onDropComplete($index, $data,$event)" index="{{policy.Id}}" layout="column" layout-align="center start">
            <div layout="row" layout-align="space-between start" style="width: 100%">
                <p contenteditable="{{ctrl.isEditable}}" flex="95" class="md-subhead white bold policyName">{{policy.name}}</p>
                <md-icon flex class="pinkIcon material-icons" delete-policy ng-show="ctrl.dragMode">close</md-icon>
                <md-button class="fullWidthButton noMarginTop" ng-show="!ctrl.dragMode" toggle-editable-mode>
                    <md-icon class="material-icons editPolicyName greenIcon">edit</md-icon>
                </md-button>

            </div>

            <div layout="row" layout-align="space-between start">
                <div layout="row" flex="45" layout-align="start start">
                    <md-icon class="lightPurple marginRight1em">insert_drive_file</md-icon>
                    <p class="md-subhead white noMarginBottom">{{policy.files}}</p>
                </div>

                <div layout="row" flex class="psGpeHolder">
                    <md-icon class="lightPurple marginRight1em">group</md-icon>
                    <p class="md-subhead white noMarginBottom">{{policy.users}}</p>
                </div>

            </div>

            <div layout-margin layout-wrap layout="row" layout-align="start center" class="noMarginLeft">
                <p class="customChips" ng-repeat="channel in policy.channels" md-whiteframe="4">{{channel.name}}</p>
            </div>

        </md-list-item>
    </md-list>
</md-sidenav>
